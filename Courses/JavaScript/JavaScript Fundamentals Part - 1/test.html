<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Notes</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <!-- marked (or markdown-it) from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
      body {
        font-family: system-ui, Arial;
        margin: 2rem;
        max-width: 900px;
      }
      nav a {
        display: inline-block;
        margin-right: 1rem;
      }
      pre {
        background: #f6f8fa;
        padding: 1rem;
        border-radius: 6px;
        overflow: auto;
      }
    </style>
  </head>
  <body>
    <h1>My Notes</h1>
    <nav id="noteslist">Loading notes…</nav>
    <hr />
    <article id="content">Choose a note…</article>

    <script>
      const notes = [
        "functions.md",

        // <- add all your .md filenames here or populate programmatically
      ];

      function makeList() {
        const nav = document.getElementById("noteslist");
        nav.innerHTML = notes
          .map((n) => {
            const url = new URL(window.location);
            url.searchParams.set("note", n);
            return `<a href="${url.href}">${n.replace(".md", "")}</a>`;
          })
          .join("");
      }

      async function loadNote(name) {
        try {
          const res = await fetch(name);
          if (!res.ok) throw new Error(res.statusText);
          const md = await res.text();
          document.getElementById("content").innerHTML = marked.parse(md);
          document.title = name.replace(".md", "") + " — Notes";
        } catch (e) {
          document.getElementById("content").textContent =
            "Couldn't load note: " + e;
        }
      }

      makeList();
      const params = new URLSearchParams(location.search);
      const note = params.get("note") || notes[0];
      if (note) loadNote(note);
    </script>
  </body>
</html>
